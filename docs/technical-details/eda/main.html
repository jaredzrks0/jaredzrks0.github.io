<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Exploratory Data Analysis â€“ DSAN-5000: Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/gu-logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-d166b450ba5a8e9f7a0ab969bf6592c1.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-d1b12f2568ecbe55642fee6aa00bd082.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-b2511bcbb01c2159fd96a78deb42ffd9.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">DSAN-5000: Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about-me.html"> 
<span class="menu-text">About the Author</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Project Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../report/report.html"> 
<span class="menu-text">Report</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-technical-details" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Technical details</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-technical-details">    
        <li>
    <a class="dropdown-item" href="../../technical-details/data-collection/main.html">
 <span class="dropdown-text">Data-collection</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/data-cleaning/main.html">
 <span class="dropdown-text">Data-cleaning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/eda/main.html">
 <span class="dropdown-text">Exploratory Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/unsupervised-learning/main.html">
 <span class="dropdown-text">Unsupervised Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/supervised-learning/main.html">
 <span class="dropdown-text">Supervised Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/progress-log.html">
 <span class="dropdown-text">Progress Log</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/llm-usage-log.html">
 <span class="dropdown-text">LLM usage Log</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#code" id="toc-code" class="nav-link" data-scroll-target="#code">Code</a>
  <ul class="collapse">
  <li><a href="#general-overview" id="toc-general-overview" class="nav-link" data-scroll-target="#general-overview">General Overview</a></li>
  </ul></li>
  <li><a href="#univariate-exploration" id="toc-univariate-exploration" class="nav-link" data-scroll-target="#univariate-exploration">Univariate Exploration</a>
  <ul class="collapse">
  <li><a href="#position-analysis" id="toc-position-analysis" class="nav-link" data-scroll-target="#position-analysis">Position Analysis</a></li>
  <li><a href="#outcome-analysis" id="toc-outcome-analysis" class="nav-link" data-scroll-target="#outcome-analysis">Outcome Analysis</a></li>
  <li><a href="#basic-primary-stats-analysis" id="toc-basic-primary-stats-analysis" class="nav-link" data-scroll-target="#basic-primary-stats-analysis">Basic Primary Stats Analysis</a></li>
  </ul></li>
  <li><a href="#bivariate-analysis" id="toc-bivariate-analysis" class="nav-link" data-scroll-target="#bivariate-analysis">Bivariate Analysis</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exploratory Data Analysis</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="summary" class="level1">
<h1>Summary</h1>
<p>Now that we have all of our final data, we can begin to explore and analyze the trends within! As a quick reminder, we have two datasets: one for pitchers and one for batters. We explore each below:</p>
</section>
<section id="code" class="level1">
<h1>Code</h1>
<p>We begin with our necessary imports.</p>
<div id="cell-3" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-4" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the DataFrames</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>batter_df <span class="op">=</span> pd.read_csv(<span class="st">'../../data/processed-data/final_batter_df.csv'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>pitcher_df <span class="op">=</span> pd.read_csv(<span class="st">'../../data/processed-data/final_pitcher_df.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="general-overview" class="level2">
<h2 class="anchored" data-anchor-id="general-overview">General Overview</h2>
<section id="batter-dataframe" class="level4">
<h4 class="anchored" data-anchor-id="batter-dataframe">Batter DataFrame</h4>
<div id="cell-6" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'The Batter DataFrame contains </span><span class="sc">{</span>batter_df<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> entries and </span><span class="sc">{</span>batter_df<span class="sc">.</span>shape[<span class="dv">1</span>]<span class="sc">}</span><span class="ss"> features.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The Batter DataFrame contains 3108 entries and 38 features.</code></pre>
</div>
</div>
<div id="cell-7" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>batter_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">player_id</th>
<th data-quarto-table-cell-role="th">voting_year</th>
<th data-quarto-table-cell-role="th">year_on_ballot</th>
<th data-quarto-table-cell-role="th">votes_pct</th>
<th data-quarto-table-cell-role="th">ly_votes_pct</th>
<th data-quarto-table-cell-role="th">outcome</th>
<th data-quarto-table-cell-role="th">position</th>
<th data-quarto-table-cell-role="th">scandal</th>
<th data-quarto-table-cell-role="th">b_war</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">G_p_app</th>
<th data-quarto-table-cell-role="th">G_c</th>
<th data-quarto-table-cell-role="th">G_1b</th>
<th data-quarto-table-cell-role="th">G_2b</th>
<th data-quarto-table-cell-role="th">G_3b</th>
<th data-quarto-table-cell-role="th">G_ss</th>
<th data-quarto-table-cell-role="th">G_lf_app</th>
<th data-quarto-table-cell-role="th">G_cf_app</th>
<th data-quarto-table-cell-role="th">G_rf_app</th>
<th data-quarto-table-cell-role="th">G_dh</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Ty Cobb</td>
<td>cobbty01</td>
<td>1936</td>
<td>1</td>
<td>98.2</td>
<td>12.975208</td>
<td>elected</td>
<td>batter</td>
<td>0</td>
<td>151.4</td>
<td>...</td>
<td>0.001013</td>
<td>0.0</td>
<td>0.004728</td>
<td>0.001013</td>
<td>0.000338</td>
<td>0.000000</td>
<td>0.012158</td>
<td>0.741304</td>
<td>0.239446</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Babe Ruth</td>
<td>ruthba01</td>
<td>1936</td>
<td>1</td>
<td>95.1</td>
<td>12.975208</td>
<td>elected</td>
<td>batter</td>
<td>0</td>
<td>162.2</td>
<td>...</td>
<td>0.066449</td>
<td>0.0</td>
<td>0.013453</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.428047</td>
<td>0.030575</td>
<td>0.461476</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Honus Wagner</td>
<td>wagneho01</td>
<td>1936</td>
<td>1</td>
<td>95.1</td>
<td>12.975208</td>
<td>elected</td>
<td>batter</td>
<td>0</td>
<td>131.0</td>
<td>...</td>
<td>0.000718</td>
<td>0.0</td>
<td>0.090452</td>
<td>0.020818</td>
<td>0.075377</td>
<td>0.677674</td>
<td>0.012922</td>
<td>0.024408</td>
<td>0.097631</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Nap Lajoie</td>
<td>lajoina01</td>
<td>1936</td>
<td>1</td>
<td>64.6</td>
<td>12.975208</td>
<td>limbo</td>
<td>batter</td>
<td>0</td>
<td>106.9</td>
<td>...</td>
<td>0.000000</td>
<td>0.0</td>
<td>0.117647</td>
<td>0.831699</td>
<td>0.008987</td>
<td>0.030229</td>
<td>0.002042</td>
<td>0.002042</td>
<td>0.007353</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Tris Speaker</td>
<td>speaktr01</td>
<td>1936</td>
<td>1</td>
<td>58.8</td>
<td>12.975208</td>
<td>limbo</td>
<td>batter</td>
<td>0</td>
<td>135.0</td>
<td>...</td>
<td>0.000368</td>
<td>0.0</td>
<td>0.006620</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000736</td>
<td>0.989702</td>
<td>0.002574</td>
<td>0.0</td>
</tr>
</tbody>
</table>

<p>5 rows Ã— 38 columns</p>
</div>
</div>
</div>
<div id="cell-8" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>batter_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 3108 entries, 0 to 3107
Data columns (total 38 columns):
 #   Column                       Non-Null Count  Dtype  
---  ------                       --------------  -----  
 0   name                         3108 non-null   object 
 1   player_id                    3108 non-null   object 
 2   voting_year                  3108 non-null   int64  
 3   year_on_ballot               3108 non-null   int64  
 4   votes_pct                    3108 non-null   float64
 5   ly_votes_pct                 3108 non-null   float64
 6   outcome                      3108 non-null   object 
 7   position                     3108 non-null   object 
 8   scandal                      3108 non-null   int64  
 9   b_war                        3108 non-null   float64
 10  b_pa                         3108 non-null   int64  
 11  b_h                          3108 non-null   int64  
 12  b_hr                         3108 non-null   int64  
 13  b_sb                         3108 non-null   float64
 14  b_bb                         3108 non-null   int64  
 15  b_so                         3108 non-null   float64
 16  b_batting_avg                3108 non-null   float64
 17  b_onbase_plus_slugging       3108 non-null   float64
 18  b_onbase_plus_slugging_plus  3108 non-null   int64  
 19  b_home_run_perc              3108 non-null   float64
 20  b_strikeout_perc             3108 non-null   float64
 21  b_base_on_balls_perc         3108 non-null   float64
 22  b_cwpa_bat                   3108 non-null   float64
 23  b_baseout_runs               3108 non-null   float64
 24  mvps                         3108 non-null   int64  
 25  gold_gloves                  3108 non-null   int64  
 26  batting_titles               3108 non-null   int64  
 27  all_stars                    3108 non-null   int64  
 28  G_p_app                      3108 non-null   float64
 29  G_c                          3108 non-null   float64
 30  G_1b                         3108 non-null   float64
 31  G_2b                         3108 non-null   float64
 32  G_3b                         3108 non-null   float64
 33  G_ss                         3108 non-null   float64
 34  G_lf_app                     3108 non-null   float64
 35  G_cf_app                     3108 non-null   float64
 36  G_rf_app                     3108 non-null   float64
 37  G_dh                         3108 non-null   float64
dtypes: float64(22), int64(12), object(4)
memory usage: 922.8+ KB</code></pre>
</div>
</div>
</section>
<section id="pitcher-dataframe" class="level4">
<h4 class="anchored" data-anchor-id="pitcher-dataframe">Pitcher DataFrame</h4>
<div id="cell-10" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'The Pitcher DataFrame contains </span><span class="sc">{</span>pitcher_df<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> entries and </span><span class="sc">{</span>pitcher_df<span class="sc">.</span>shape[<span class="dv">1</span>]<span class="sc">}</span><span class="ss"> features.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The Pitcher DataFrame contains 514 entries and 46 features.</code></pre>
</div>
</div>
<div id="cell-11" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>pitcher_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">player_id</th>
<th data-quarto-table-cell-role="th">voting_year</th>
<th data-quarto-table-cell-role="th">year_on_ballot</th>
<th data-quarto-table-cell-role="th">votes_pct</th>
<th data-quarto-table-cell-role="th">ly_votes_pct</th>
<th data-quarto-table-cell-role="th">outcome</th>
<th data-quarto-table-cell-role="th">position</th>
<th data-quarto-table-cell-role="th">scandal</th>
<th data-quarto-table-cell-role="th">p_war</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">G_p_app</th>
<th data-quarto-table-cell-role="th">G_c</th>
<th data-quarto-table-cell-role="th">G_1b</th>
<th data-quarto-table-cell-role="th">G_2b</th>
<th data-quarto-table-cell-role="th">G_3b</th>
<th data-quarto-table-cell-role="th">G_ss</th>
<th data-quarto-table-cell-role="th">G_lf_app</th>
<th data-quarto-table-cell-role="th">G_cf_app</th>
<th data-quarto-table-cell-role="th">G_rf_app</th>
<th data-quarto-table-cell-role="th">G_dh</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Rube Waddell</td>
<td>wadderu01</td>
<td>1936</td>
<td>1</td>
<td>14.6</td>
<td>12.975208</td>
<td>limbo</td>
<td>pitcher</td>
<td>0</td>
<td>60.9</td>
<td>...</td>
<td>0.997549</td>
<td>0.0</td>
<td>0.002451</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Rube Waddell</td>
<td>wadderu01</td>
<td>1937</td>
<td>2</td>
<td>33.3</td>
<td>14.600000</td>
<td>limbo</td>
<td>pitcher</td>
<td>0</td>
<td>60.9</td>
<td>...</td>
<td>0.997549</td>
<td>0.0</td>
<td>0.002451</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Addie Joss</td>
<td>jossad01</td>
<td>1937</td>
<td>1</td>
<td>5.5</td>
<td>12.975208</td>
<td>limbo</td>
<td>pitcher</td>
<td>0</td>
<td>47.7</td>
<td>...</td>
<td>0.969492</td>
<td>0.0</td>
<td>0.020339</td>
<td>0.000000</td>
<td>0.003390</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.006780</td>
<td>0.000000</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Clark Griffith</td>
<td>griffcl01</td>
<td>1937</td>
<td>1</td>
<td>2.0</td>
<td>12.975208</td>
<td>eliminated</td>
<td>pitcher</td>
<td>0</td>
<td>59.9</td>
<td>...</td>
<td>0.945720</td>
<td>0.0</td>
<td>0.002088</td>
<td>0.002088</td>
<td>0.002088</td>
<td>0.008351</td>
<td>0.012526</td>
<td>0.010438</td>
<td>0.016701</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Theodore Breitenstein</td>
<td>breitte01</td>
<td>1937</td>
<td>1</td>
<td>0.5</td>
<td>12.975208</td>
<td>eliminated</td>
<td>pitcher</td>
<td>0</td>
<td>51.8</td>
<td>...</td>
<td>0.853933</td>
<td>0.0</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.044944</td>
<td>0.035955</td>
<td>0.065169</td>
<td>0.0</td>
</tr>
</tbody>
</table>

<p>5 rows Ã— 46 columns</p>
</div>
</div>
</div>
<div id="cell-12" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>pitcher_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 514 entries, 0 to 513
Data columns (total 46 columns):
 #   Column                          Non-Null Count  Dtype  
---  ------                          --------------  -----  
 0   name                            514 non-null    object 
 1   player_id                       514 non-null    object 
 2   voting_year                     514 non-null    int64  
 3   year_on_ballot                  514 non-null    int64  
 4   votes_pct                       514 non-null    float64
 5   ly_votes_pct                    514 non-null    float64
 6   outcome                         514 non-null    object 
 7   position                        514 non-null    object 
 8   scandal                         514 non-null    int64  
 9   p_war                           514 non-null    float64
 10  p_w                             514 non-null    int64  
 11  p_win_loss_perc                 514 non-null    float64
 12  p_earned_run_avg                514 non-null    float64
 13  p_earned_run_avg_plus           514 non-null    int64  
 14  p_g                             514 non-null    int64  
 15  p_gs                            514 non-null    int64  
 16  p_sho                           514 non-null    int64  
 17  p_sv                            514 non-null    int64  
 18  p_ip                            514 non-null    float64
 19  p_so                            514 non-null    int64  
 20  p_whip                          514 non-null    float64
 21  p_fip                           514 non-null    float64
 22  p_strikeouts_per_base_on_balls  514 non-null    float64
 23  p_batting_avg                   514 non-null    float64
 24  p_onbase_plus_slugging          514 non-null    float64
 25  p_home_run_perc                 514 non-null    float64
 26  p_strikeout_perc                514 non-null    float64
 27  p_cwpa_def                      514 non-null    float64
 28  p_baseout_runs                  514 non-null    float64
 29  b_war                           514 non-null    float64
 30  b_batting_avg                   514 non-null    float64
 31  b_onbase_plus_slugging_plus     514 non-null    float64
 32  cy_youngs                       514 non-null    int64  
 33  gold_gloves                     514 non-null    int64  
 34  mvps                            514 non-null    int64  
 35  all_stars                       514 non-null    int64  
 36  G_p_app                         514 non-null    float64
 37  G_c                             514 non-null    float64
 38  G_1b                            514 non-null    float64
 39  G_2b                            514 non-null    float64
 40  G_3b                            514 non-null    float64
 41  G_ss                            514 non-null    float64
 42  G_lf_app                        514 non-null    float64
 43  G_cf_app                        514 non-null    float64
 44  G_rf_app                        514 non-null    float64
 45  G_dh                            514 non-null    float64
dtypes: float64(28), int64(14), object(4)
memory usage: 184.8+ KB</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="univariate-exploration" class="level1">
<h1>Univariate Exploration</h1>
<p>The first thing we explore is the distributions of our variables. Doing this will help us better understand what our data looks like, and begin opening the door to learning about the underlying relationships between data.</p>
<div id="cell-14" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>batter_df.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">voting_year</th>
<th data-quarto-table-cell-role="th">year_on_ballot</th>
<th data-quarto-table-cell-role="th">votes_pct</th>
<th data-quarto-table-cell-role="th">ly_votes_pct</th>
<th data-quarto-table-cell-role="th">scandal</th>
<th data-quarto-table-cell-role="th">b_war</th>
<th data-quarto-table-cell-role="th">b_pa</th>
<th data-quarto-table-cell-role="th">b_h</th>
<th data-quarto-table-cell-role="th">b_hr</th>
<th data-quarto-table-cell-role="th">b_sb</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">G_p_app</th>
<th data-quarto-table-cell-role="th">G_c</th>
<th data-quarto-table-cell-role="th">G_1b</th>
<th data-quarto-table-cell-role="th">G_2b</th>
<th data-quarto-table-cell-role="th">G_3b</th>
<th data-quarto-table-cell-role="th">G_ss</th>
<th data-quarto-table-cell-role="th">G_lf_app</th>
<th data-quarto-table-cell-role="th">G_cf_app</th>
<th data-quarto-table-cell-role="th">G_rf_app</th>
<th data-quarto-table-cell-role="th">G_dh</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.0</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>...</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>1968.241313</td>
<td>3.079472</td>
<td>13.897490</td>
<td>12.502669</td>
<td>0.0</td>
<td>40.513546</td>
<td>7227.393822</td>
<td>1853.312098</td>
<td>147.284106</td>
<td>146.179215</td>
<td>...</td>
<td>0.000393</td>
<td>0.126806</td>
<td>0.140508</td>
<td>0.095212</td>
<td>0.108284</td>
<td>0.143917</td>
<td>0.118064</td>
<td>0.121499</td>
<td>0.125469</td>
<td>0.019848</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>24.179706</td>
<td>2.407836</td>
<td>20.684509</td>
<td>13.036454</td>
<td>0.0</td>
<td>20.859591</td>
<td>2148.175557</td>
<td>601.632900</td>
<td>128.187142</td>
<td>147.347957</td>
<td>...</td>
<td>0.003130</td>
<td>0.319588</td>
<td>0.304927</td>
<td>0.259699</td>
<td>0.253916</td>
<td>0.318777</td>
<td>0.243584</td>
<td>0.260076</td>
<td>0.250164</td>
<td>0.074576</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>1936.000000</td>
<td>1.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.0</td>
<td>-5.100000</td>
<td>1076.000000</td>
<td>214.000000</td>
<td>2.000000</td>
<td>0.000000</td>
<td>...</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>1949.000000</td>
<td>1.000000</td>
<td>0.600000</td>
<td>2.600000</td>
<td>0.0</td>
<td>26.000000</td>
<td>5765.250000</td>
<td>1424.750000</td>
<td>42.000000</td>
<td>49.000000</td>
<td>...</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>1961.000000</td>
<td>2.000000</td>
<td>3.700000</td>
<td>12.975208</td>
<td>0.0</td>
<td>39.600000</td>
<td>7274.000000</td>
<td>1861.000000</td>
<td>105.000000</td>
<td>89.000000</td>
<td>...</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000816</td>
<td>0.000000</td>
<td>0.000468</td>
<td>0.000000</td>
<td>0.003868</td>
<td>0.000000</td>
<td>0.002167</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>1986.000000</td>
<td>5.000000</td>
<td>18.125000</td>
<td>12.975208</td>
<td>0.0</td>
<td>54.200000</td>
<td>8749.000000</td>
<td>2299.000000</td>
<td>223.000000</td>
<td>181.000000</td>
<td>...</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.050043</td>
<td>0.008734</td>
<td>0.039523</td>
<td>0.018703</td>
<td>0.084211</td>
<td>0.069869</td>
<td>0.078817</td>
<td>0.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>2024.000000</td>
<td>9.000000</td>
<td>99.700000</td>
<td>74.800000</td>
<td>0.0</td>
<td>162.200000</td>
<td>13992.000000</td>
<td>4189.000000</td>
<td>755.000000</td>
<td>1406.000000</td>
<td>...</td>
<td>0.066449</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>0.995723</td>
<td>0.993541</td>
<td>0.982688</td>
<td>0.935426</td>
</tr>
</tbody>
</table>

<p>8 rows Ã— 34 columns</p>
</div>
</div>
</div>
<section id="position-analysis" class="level3">
<h3 class="anchored" data-anchor-id="position-analysis">Position Analysis</h3>
<p>We have seen that a majority of the dataset is batters over pitchers, but we can also look at the distribution of positions among batters who have made a BBWAA ballot. We do this by summing the columns for each position, in effect telling us the total number of â€˜whole peopleâ€™ who have played the position.</p>
<div id="cell-17" class="cell" data-execution_count="38">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>position_cols <span class="op">=</span> [<span class="st">'G_c'</span>, <span class="st">"G_1b"</span>, <span class="st">"G_2b"</span>, <span class="st">"G_3b"</span>, <span class="st">"G_ss"</span>, <span class="st">"G_lf_app"</span>, <span class="st">"G_cf_app"</span>, <span class="st">"G_rf_app"</span>, <span class="st">"G_dh"</span>]</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>position_sums <span class="op">=</span> batter_df.drop_duplicates(subset<span class="op">=</span>[<span class="st">'player_id'</span>])[position_cols].<span class="bu">sum</span>().sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>xlabels<span class="op">=</span>[<span class="st">"First Base"</span>, <span class="st">"Left Field"</span>, <span class="st">"Catcher"</span>, <span class="st">"Right Field"</span>,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Third Base"</span>, <span class="st">"Center Field"</span>, <span class="st">"Short Stop"</span>, <span class="st">"Second Base"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">"DH"</span>]</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>ticks <span class="op">=</span> [tick <span class="cf">for</span> tick <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(position_cols))]</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">8</span>))</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>sns.barplot(position_sums)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Total 'People'"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Position"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Total 'People' From Each Position in BBWAA Voting History"</span>, fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>plt.xticks(ticks<span class="op">=</span>ticks, labels<span class="op">=</span>xlabels)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-11-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We see above that there are a similar number of people at each position, other than designated hitter, who have recieved votes from the BBWAA process. Additionally, within the positions, First Base, Left Field and Right Field are among the highest tallies, which makes sense given they tend to require lower defensive skill. One surprise is that there are so many catchers, as I am of the ingoing impression that catchers are underrepresented in the Hall of Fame. We can check this assumption below, by looking at the distribution of inductees.</p>
<div id="cell-19" class="cell" data-execution_count="39">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>position_cols <span class="op">=</span> [<span class="st">'G_c'</span>, <span class="st">"G_1b"</span>, <span class="st">"G_2b"</span>, <span class="st">"G_3b"</span>, <span class="st">"G_ss"</span>, <span class="st">"G_lf_app"</span>, <span class="st">"G_cf_app"</span>, <span class="st">"G_rf_app"</span>, <span class="st">"G_dh"</span>]</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>position_sums <span class="op">=</span> batter_df[batter_df.outcome <span class="op">==</span> <span class="st">'elected'</span>].drop_duplicates(subset<span class="op">=</span>[<span class="st">'player_id'</span>])[position_cols].<span class="bu">sum</span>().sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>xlabels<span class="op">=</span>[<span class="st">"First Base"</span>, <span class="st">"Third Base"</span>, <span class="st">"Right Field"</span>, <span class="st">"Left Field"</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Short Stop"</span>, <span class="st">"Center Field"</span>, <span class="st">"Catcher"</span>, <span class="st">"Second Base"</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">"DH"</span>]</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>ticks <span class="op">=</span> [tick <span class="cf">for</span> tick <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(position_cols))]</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">8</span>))</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>sns.barplot(position_sums)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Total 'People'"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Position"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Total 'People' From Each Position Elected to HOF"</span>, fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>plt.xticks(ticks<span class="op">=</span>ticks, labels<span class="op">=</span>xlabels)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-12-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Interestingly, we do see this assumptions confirmed in the data. While catchers make up a large portion of people nominated to a vote, they are the third least likely to achieve election. On the other hand, we see positions like Third Base jump up the list to 2nd in total elections.</p>
</section>
<section id="outcome-analysis" class="level3">
<h3 class="anchored" data-anchor-id="outcome-analysis">Outcome Analysis</h3>
<p>We next investigate the landscape of voting outcomes. Remember, there are three posibilities for a vote:</p>
<ul>
<li>The player recieves &lt;5% of the possible vote and is eliminated</li>
<li>The player recieves &gt;75% of the vote and is elected</li>
<li>The player revieces &lt;75% of the vote but is in his final year of eligibility and expires</li>
<li>The player revieces &lt;75% of the vote but has more years of eligibility, so remains in â€˜limboâ€™</li>
</ul>
<div id="cell-21" class="cell" data-execution_count="40">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Distribution of BBWAA HOF Voting Outcomes"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the batter data</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>sns.barplot(batter_df.outcome.value_counts(), ax<span class="op">=</span>ax[<span class="dv">0</span>])</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_xlabel(<span class="st">'Voting Outcome'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_ylabel(<span class="st">"Number of Occurences"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">"Batter Outcomes"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the pitcher data</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>sns.barplot(pitcher_df.outcome.value_counts(), ax<span class="op">=</span>ax[<span class="dv">1</span>])</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_xlabel(<span class="st">'Voting Outcome'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_ylabel(<span class="st">"Number of Occurences"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">"Pitcher Outcomes"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>Text(0.5, 1.0, 'Pitcher Outcomes')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-13-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Here too, we see a few very important takeaways:</p>
<ol type="1">
<li><p>The distribution of voting outcomes changes over the course of the major eras. As we move throughout history, eliminations take a backseat role to limbos, meaning that in the first few attemps on the ballot, players were more likely to receive very low shares of the vote. Additionally, while still a very low total share, we do see the election share slowing rising. Recall however, that the overall number of elections is not increasing on an annual basis as evidence in the above line chart.</p></li>
<li><p>The total number of people/votes drastically decreases over time. This is likely caused by the creation of the BBWAA selection committee that determines the players on the ballot each year, and limits it to 40, which occured in 1968<span class="citation" data-cites="bbwa_bbwa_nodate"><sup><a href="#ref-bbwa_bbwa_nodate" role="doc-biblioref">1</a></sup></span></p></li>
</ol>
<div id="cell-23" class="cell" data-execution_count="41">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>batter_elections <span class="op">=</span> batter_df[batter_df.outcome <span class="op">==</span> <span class="st">'elected'</span>]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>pitcher_elections <span class="op">=</span> pitcher_df[pitcher_df.outcome<span class="op">==</span><span class="st">'elected'</span>]</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>batter_counts <span class="op">=</span> batter_elections.groupby(by<span class="op">=</span><span class="st">'voting_year'</span>).count().name</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>pitcher_counts <span class="op">=</span> pitcher_elections.groupby(by<span class="op">=</span><span class="st">'voting_year'</span>).count().name</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Succesful BBWAA Elections by Year and Era"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the batter data</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>sns.lineplot(x<span class="op">=</span>batter_counts.index, y<span class="op">=</span>batter_counts.values, ax<span class="op">=</span>ax[<span class="dv">0</span>])</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_xlabel(<span class="st">'Voting Year'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_ylabel(<span class="st">"Number of Elections"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">"Batter Elections"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].axvline(x<span class="op">=</span><span class="dv">1969</span>, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].axvline(x<span class="op">=</span><span class="dv">1996</span>, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the pitcher data</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>sns.lineplot(x<span class="op">=</span>pitcher_counts.index, y<span class="op">=</span>pitcher_counts.values, ax<span class="op">=</span>ax[<span class="dv">1</span>])</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_xlabel(<span class="st">'Voting Year'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_ylabel(<span class="st">"Number of Elections"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">"Pitcher Outcomes"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].axvline(x<span class="op">=</span><span class="dv">1969</span>, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].axvline(x<span class="op">=</span><span class="dv">1996</span>, color<span class="op">=</span><span class="st">'red'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Two things quickly become clear from the above charts:</p>
<ol type="1">
<li><p>Batter elections have always ranged between 0 and 3, but with no discernable increase/decrease on average over time. The Eras do not play a significant role in the number of elections.</p></li>
<li><p>There is missing data for pitchers from before just recently. This is likely caused by a systemic matching between the HTML changes that blocked 10% of scraped players and ~20% of scraped HOF votes in that HTML for pitchers before a certain year is changed. Becuase of this obvious data discrepancy, we will focus our future analysis solely on batters. Collection of this pitching data also presents itself as an area for future analysis, to ensure visibility and understanding of the position group!</p></li>
</ol>
<div id="cell-25" class="cell" data-execution_count="42">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the eras</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>golden_years <span class="op">=</span> [year <span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1936</span>, <span class="dv">1969</span>)]</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>expansion_years <span class="op">=</span> [year <span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1969</span>, <span class="dv">1996</span>)]</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>modern_years <span class="op">=</span> [year <span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1996</span>, <span class="dv">2025</span>)]</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the batters and pitchers in the era</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>golden_batters <span class="op">=</span> batter_df[batter_df.voting_year.isin(golden_years)]</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>expansion_batters <span class="op">=</span> batter_df[batter_df.voting_year.isin(expansion_years)]</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>modern_batters <span class="op">=</span> batter_df[batter_df.voting_year.isin(modern_years)]</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">6</span>))</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Succesful BBWAA Elections by Year and Era"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the golden era data</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>sns.barplot(golden_batters.outcome.value_counts(), ax<span class="op">=</span>ax[<span class="dv">0</span>])</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_xlabel(<span class="st">'Voting Outcome'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_ylabel(<span class="st">"Number of Occurences"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">"Golden Era Outcomes"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the expansion era data</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>sns.barplot(expansion_batters.outcome.value_counts(), ax<span class="op">=</span>ax[<span class="dv">1</span>])</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_xlabel(<span class="st">'Voting Outcome'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_ylabel(<span class="st">"Number of Occurences"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">"Expansion Era Outcomes"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the modern era data</span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>sns.barplot(modern_batters.outcome.value_counts(), ax<span class="op">=</span>ax[<span class="dv">2</span>])</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">2</span>].set_xlabel(<span class="st">'Voting Outcome'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">2</span>].set_ylabel(<span class="st">"Number of Occurences"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">2</span>].set_title(<span class="st">"Modern Era Outcomes"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>Text(0.5, 1.0, 'Modern Era Outcomes')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-15-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We very quickly see that electio to the Hall of Fame is quite difficult, even if you are a player worthy enough of being selected to the ballot! For both pitchers and hitters, the most common occurence is elimination, quickly followed by limbo. For each position, elected players only represent &lt;10% of the total voted body.</p>
<p>We wonder however, if this distribution, and general likelihoods have changed overtime and the game itself and potentially perspectevs on the Hall of Fame have changed. To do this, we split the history of baseball into 3 distinct categories there is often much discussion as to how the history of baseball should be split, with some views containing many more smaller eras, but sor simplicity, we group the timeline into three larger ones.</p>
<ul>
<li><strong>The Golden Age</strong> (1936-1968)
<ul>
<li>A contemporary era of baseball, filled with a number of all-time legends. During this era baseball explodes in popularity. The â€˜balance of powerâ€™ shifts heavily towards pitchers near the end, resulting in a change to pitching mound dimensions to artifically increase offense league wide<span class="citation" data-cites="wikipedia_contributers_golden_2024"><sup><a href="#ref-wikipedia_contributers_golden_2024" role="doc-biblioref">2</a></sup></span>.</li>
</ul></li>
<li><strong>The Expansion Era</strong> (1969-1994)
<ul>
<li>Beginning with the lowering of the mound, offense gradually increases throughout this era. Additionally, the leage expands on multiple occasions as the sport continues to increase in populatity<span class="citation" data-cites="br_bullpen_expansion_nodate"><sup><a href="#ref-br_bullpen_expansion_nodate" role="doc-biblioref">3</a></sup></span></li>
</ul></li>
<li><strong>The Modern Era</strong>
<ul>
<li>The Modern Era begins in 1995 when Major League Baseball breaks its strike, and popularity is fueled again by the home run races and doping scandals of the 1990s. The era continues into the modern day, where hitting for power, and throwing with maximum speed are emphasized, alongside a revolution of advanced scouting, training, and analysis<span class="citation" data-cites="wikipedia_contributers_history_2024"><sup><a href="#ref-wikipedia_contributers_history_2024" role="doc-biblioref">4</a></sup></span>!</li>
</ul></li>
</ul>
<p>While many players have played across two eras, we will filter player/votes into the era belonging to the year of the vote, which represents the mindset of the BBWAA at the time of the vote.</p>
<p>We begin by plotting the number of elections over time, segmenting by era</p>
</section>
<section id="basic-primary-stats-analysis" class="level3">
<h3 class="anchored" data-anchor-id="basic-primary-stats-analysis">Basic Primary Stats Analysis</h3>
<p>We next turn our attention to some primary stats, for which we will plot simple distributions. The basic stats include:</p>
<ul>
<li>Hits</li>
<li>Plate Appearances</li>
<li>Home Runs</li>
<li>Stolen Bases</li>
<li>Strikeouts</li>
<li>Career Batting Average</li>
<li>MVP Awards Won</li>
<li>Gold Gloves Won</li>
<li>All-Star Games played in</li>
</ul>
<div id="cell-29" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>basic_cols <span class="op">=</span> [</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'b_h'</span>, <span class="st">'b_pa'</span>, <span class="st">'b_hr'</span>],</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'b_sb'</span>, <span class="st">'b_so'</span>, <span class="st">'b_batting_avg'</span>],</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'mvps'</span>, <span class="st">'gold_gloves'</span>, <span class="st">'all_stars'</span>]</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> [</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">0</span>,<span class="dv">0</span>], [<span class="dv">0</span>,<span class="dv">1</span>], [<span class="dv">0</span>,<span class="dv">2</span>],</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>,<span class="dv">0</span>], [<span class="dv">1</span>,<span class="dv">1</span>], [<span class="dv">1</span>,<span class="dv">2</span>],</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">2</span>,<span class="dv">0</span>], [<span class="dv">2</span>,<span class="dv">1</span>], [<span class="dv">2</span>,<span class="dv">2</span>]</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>x_labels <span class="op">=</span> [</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'Hits'</span>, <span class="st">"Plate Appearances"</span>, <span class="st">"Home Runs"</span>],</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Stolen Bases"</span>, <span class="st">"Strikeouts"</span>, <span class="st">"Batting Average"</span>],</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"MVP Awards"</span>, <span class="st">"Gold Glove Awards"</span>, <span class="st">"All Star Games"</span>]</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">3</span>,<span class="dv">3</span>,figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">14</span>))</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Distributions of Basic Offensive Stats"</span>, fontsize<span class="op">=</span><span class="dv">28</span>)</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> r <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> c <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>        sns.histplot(batter_df.drop_duplicates(subset<span class="op">=</span><span class="st">'player_id'</span>)[basic_cols[r][c]].values, ax<span class="op">=</span>ax[c,r])</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>        ax[c,r].set_ylabel(<span class="st">'Count of Players'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>        ax[c,r].set_xlabel(<span class="ss">f'</span><span class="sc">{</span>x_labels[r][c]<span class="sc">}</span><span class="ss">'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-16-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>All of basic offensive stats appears without error. The summative, non-negative stats are most all right-skewed, with the average stats, and stats all players accumulate â€˜equallyâ€™ easily like Plate Appearences and WAR are all unomodial and semi-symetric. In a few of the plots, we do see some extremely high values, which we can investige further in a box plot.</p>
<div id="cell-31" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>basic_cols <span class="op">=</span> [</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_h'</span>, <span class="st">'b_pa'</span>, <span class="st">'b_hr'</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_sb'</span>, <span class="st">'b_so'</span>, <span class="st">'b_batting_avg'</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'mvps'</span>, <span class="st">'gold_gloves'</span>, <span class="st">'all_stars'</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>batter_df[basic_cols].describe().rename(columns<span class="op">=</span>{<span class="st">'b_h'</span>:<span class="st">"Hits"</span>, <span class="st">'b_pa'</span>:<span class="st">"Plate Appearances"</span>, <span class="st">'b_hr'</span>:<span class="st">"Home Runs"</span>,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>                                                    <span class="st">'b_sb'</span>:<span class="st">'Stolen Bases'</span>, <span class="st">'b_so'</span>:<span class="st">'Strikeouts'</span>, <span class="st">'b_batting_avg'</span>:<span class="st">'Batting Average'</span>,</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>                                                    <span class="st">'mvps'</span>:<span class="st">'MVPs %'</span>, <span class="st">'gold_gloves'</span>:<span class="st">"Gold Gloves"</span>, <span class="st">'all_start'</span>:<span class="st">'All Star Games'</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Hits</th>
<th data-quarto-table-cell-role="th">Plate Appearances</th>
<th data-quarto-table-cell-role="th">Home Runs</th>
<th data-quarto-table-cell-role="th">Stolen Bases</th>
<th data-quarto-table-cell-role="th">Strikeouts</th>
<th data-quarto-table-cell-role="th">Batting Average</th>
<th data-quarto-table-cell-role="th">MVPs %</th>
<th data-quarto-table-cell-role="th">Gold Gloves</th>
<th data-quarto-table-cell-role="th">all_stars</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>1853.312098</td>
<td>7227.393822</td>
<td>147.284106</td>
<td>146.179215</td>
<td>651.651223</td>
<td>0.287805</td>
<td>0.291184</td>
<td>0.757400</td>
<td>3.407336</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>601.632900</td>
<td>2148.175557</td>
<td>128.187142</td>
<td>147.347957</td>
<td>407.506545</td>
<td>0.024585</td>
<td>0.539248</td>
<td>2.026147</td>
<td>3.823610</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>214.000000</td>
<td>1076.000000</td>
<td>2.000000</td>
<td>0.000000</td>
<td>57.000000</td>
<td>0.193000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>1424.750000</td>
<td>5765.250000</td>
<td>42.000000</td>
<td>49.000000</td>
<td>353.000000</td>
<td>0.271000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>1861.000000</td>
<td>7274.000000</td>
<td>105.000000</td>
<td>89.000000</td>
<td>546.000000</td>
<td>0.287000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>2.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>2299.000000</td>
<td>8749.000000</td>
<td>223.000000</td>
<td>181.000000</td>
<td>842.500000</td>
<td>0.304000</td>
<td>1.000000</td>
<td>0.000000</td>
<td>6.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>4189.000000</td>
<td>13992.000000</td>
<td>755.000000</td>
<td>1406.000000</td>
<td>2597.000000</td>
<td>0.366000</td>
<td>3.000000</td>
<td>16.000000</td>
<td>25.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-32" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>basic_cols <span class="op">=</span> [</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'b_h'</span>, <span class="st">'b_pa'</span>, <span class="st">'b_hr'</span>],</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'b_sb'</span>, <span class="st">'b_so'</span>, <span class="st">'b_batting_avg'</span>],</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'mvps'</span>, <span class="st">'gold_gloves'</span>, <span class="st">'all_stars'</span>]</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> [</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">0</span>,<span class="dv">0</span>], [<span class="dv">0</span>,<span class="dv">1</span>], [<span class="dv">0</span>,<span class="dv">2</span>],</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>,<span class="dv">0</span>], [<span class="dv">1</span>,<span class="dv">1</span>], [<span class="dv">1</span>,<span class="dv">2</span>],</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">2</span>,<span class="dv">0</span>], [<span class="dv">2</span>,<span class="dv">1</span>], [<span class="dv">2</span>,<span class="dv">2</span>]</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>x_labels <span class="op">=</span> [</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'Hits'</span>, <span class="st">"Plate Appearances"</span>, <span class="st">"Home Runs"</span>],</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Stolen Bases"</span>, <span class="st">"Strikeouts"</span>, <span class="st">"Batting Average"</span>],</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"MVP Awards"</span>, <span class="st">"Gold Glove Awards"</span>, <span class="st">"All Star Games"</span>]</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">3</span>,<span class="dv">3</span>,figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">14</span>))</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Distributions of Basic Offensive Stats"</span>, fontsize<span class="op">=</span><span class="dv">28</span>)</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> r <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> c <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>        sns.boxplot(batter_df.drop_duplicates(subset<span class="op">=</span><span class="st">'player_id'</span>)[basic_cols[r][c]].values, ax<span class="op">=</span>ax[c,r])</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>        ax[c,r].set_title(<span class="ss">f'Boxplot of </span><span class="sc">{</span>x_labels[r][c]<span class="sc">}</span><span class="ss">'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>        ax[c,r].set_ylabel(<span class="ss">f'</span><span class="sc">{</span>x_labels[r][c]<span class="sc">}</span><span class="ss">'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-18-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Indeed, we do see a number of outliers, particularly in the data for different award, as well as stolen bases. However, whatâ€™s super interesting to consider, is that we must remember these are not â€˜outliersâ€™ in the typical sense of poor data generation. Rather, we know these events truly occured, and intead these are instances of likely unmatchable baseball greatness. <strong>Below, we outline those leaders in the awards categories and stolen bases, who truly separate themselves from the competition:</strong></p>
<div id="cell-34" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>hits <span class="op">=</span> batter_df.sort_values(by<span class="op">=</span><span class="st">'b_h'</span>, ascending<span class="op">=</span><span class="va">False</span>).iloc[<span class="dv">0</span>]</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The leader in career Hits is </span><span class="sc">{</span>hits<span class="sc">.</span>loc[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss"> with </span><span class="sc">{</span>hits<span class="sc">.</span>loc[<span class="st">'b_h'</span>]<span class="sc">}</span><span class="ss"> hits."</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>sb <span class="op">=</span> batter_df.sort_values(by<span class="op">=</span><span class="st">'b_sb'</span>, ascending<span class="op">=</span><span class="va">False</span>).iloc[<span class="dv">0</span>]</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The leader in career Stolen Bases is </span><span class="sc">{</span>sb<span class="sc">.</span>loc[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss"> with </span><span class="sc">{</span><span class="bu">int</span>(sb.loc[<span class="st">'b_sb'</span>])<span class="sc">}</span><span class="ss"> Stolen Bases."</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>gold_gloves <span class="op">=</span> batter_df.sort_values(by<span class="op">=</span><span class="st">'gold_gloves'</span>, ascending<span class="op">=</span><span class="va">False</span>).iloc[<span class="dv">0</span>]</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The leader in Gold Glove Award Wins is </span><span class="sc">{</span>gold_gloves<span class="sc">.</span>loc[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss"> with </span><span class="sc">{</span>gold_gloves[<span class="st">'gold_gloves'</span>]<span class="sc">}</span><span class="ss"> awards."</span>)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>mvps <span class="op">=</span> batter_df.sort_values(by<span class="op">=</span><span class="st">'mvps'</span>, ascending<span class="op">=</span><span class="va">False</span>).iloc[<span class="dv">0</span>]</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The leader in MVP Award Wins is </span><span class="sc">{</span>mvps<span class="sc">.</span>loc[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss"> with </span><span class="sc">{</span>mvps[<span class="st">'mvps'</span>]<span class="sc">}</span><span class="ss"> awards."</span>)</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>all_stars <span class="op">=</span> batter_df.sort_values(by<span class="op">=</span><span class="st">'all_stars'</span>, ascending<span class="op">=</span><span class="va">False</span>).iloc[<span class="dv">0</span>]</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The leader in All Star Games is </span><span class="sc">{</span>all_stars<span class="sc">.</span>loc[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss"> with </span><span class="sc">{</span>all_stars[<span class="st">'all_stars'</span>]<span class="sc">}</span><span class="ss"> Games."</span>)</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The leader in career Hits is Ty Cobb with 4189 hits.
The leader in career Stolen Bases is Rickey Henderson with 1406 Stolen Bases.
The leader in Gold Glove Award Wins is Brooks Robinson with 16 awards.
The leader in MVP Award Wins is Jimmie Foxx with 3 awards.
The leader in All Star Games is Henry Aaron with 25 Games.</code></pre>
</div>
</div>
<p>After taking a moment to appreciate how <strong>utterly insane &gt;4,000 hits and/or 25 All Star Games</strong> is, we move forward into new territory, taking a closer look at some of the more advanced metrics - many of which have only come into fashion in the last decade or two (although we have data dating back through history).</p>
<div id="cell-36" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>advanced_cols <span class="op">=</span> [</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'b_war'</span>, <span class="st">'b_onbase_plus_slugging_plus'</span>, <span class="st">'b_baseout_runs'</span>],</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'b_home_run_perc'</span>, <span class="st">'b_strikeout_perc'</span>, <span class="st">'b_cwpa_bat'</span>]</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> [</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">0</span>,<span class="dv">0</span>], [<span class="dv">0</span>,<span class="dv">1</span>], [<span class="dv">0</span>,<span class="dv">2</span>],</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>,<span class="dv">0</span>], [<span class="dv">1</span>,<span class="dv">1</span>], [<span class="dv">1</span>,<span class="dv">2</span>],</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>x_labels <span class="op">=</span> [</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'WAR'</span>, <span class="st">"OPS+"</span>, <span class="st">"RE24"</span>],</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Home Run %"</span>, <span class="st">"Strikeout %"</span>, <span class="st">"Championship WPA"</span>]</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">2</span>,<span class="dv">3</span>,figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">14</span>))</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Distributions of Advanced Offensive Stats"</span>, fontsize<span class="op">=</span><span class="dv">28</span>)</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> r <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>):</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> c <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>        sns.histplot(batter_df.drop_duplicates(subset<span class="op">=</span><span class="st">'player_id'</span>)[advanced_cols[r][c]].values, ax<span class="op">=</span>ax[r,c])</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>        ax[r,c].set_ylabel(<span class="st">'Count of Players'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>        ax[r,c].set_xlabel(<span class="ss">f'</span><span class="sc">{</span>x_labels[r][c]<span class="sc">}</span><span class="ss">'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-20-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We first notice in the chart above the large values appearing in our most advanced stats Championship WPA and RE24. Remember this is due to the imputing of these stats for players voted on before WWII, as the stats are not available on Baseball Reference until 1912. Other than this, all our charts appear as expected. Everything is either right skewed or mostly-semetric, and these align with the stats that are easier to accumulate for certain â€˜typesâ€™ of players like power hitters, and stats that everyone can accumulate like OPS+.</p>
<ul>
<li>While today OPS tends to favor power hitting, for many decades in baseball, getting on base was favored over power, balancing this distribution out.</li>
</ul>
<p>We also again see a few plots with significant â€˜outliersâ€™. See below for boxplots of each distribution and an explanation of some stat leaders.</p>
<div id="cell-38" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>advanced_cols <span class="op">=</span> [</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_war'</span>, <span class="st">'b_onbase_plus_slugging_plus'</span>, <span class="st">'b_baseout_runs'</span>,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_home_run_perc'</span>, <span class="st">'b_strikeout_perc'</span>, <span class="st">'b_cwpa_bat'</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>batter_df[advanced_cols].describe().rename(columns<span class="op">=</span>{<span class="st">'b_war'</span>:<span class="st">"WAR"</span>, <span class="st">'b_onbase_plus_slugging_plus'</span>:<span class="st">"OPS+"</span>,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>                                                    <span class="st">'b_saseout_runs'</span>:<span class="st">'RE24'</span>, <span class="st">'b_home_run_perc'</span>:<span class="st">'Home Run %'</span>,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>                                                    <span class="st">'b_strikeout_perc'</span>:<span class="st">'Strikeout %'</span>, <span class="st">'b_cwpa_bat'</span>:<span class="st">"Championship WPA"</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">WAR</th>
<th data-quarto-table-cell-role="th">OPS+</th>
<th data-quarto-table-cell-role="th">b_baseout_runs</th>
<th data-quarto-table-cell-role="th">Home Run %</th>
<th data-quarto-table-cell-role="th">Strikeout %</th>
<th data-quarto-table-cell-role="th">Championship WPA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
<td>3108.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>40.513546</td>
<td>113.021879</td>
<td>180.376155</td>
<td>1.959781</td>
<td>8.965991</td>
<td>20.227928</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>20.859591</td>
<td>20.891943</td>
<td>180.729055</td>
<td>1.490449</td>
<td>4.479540</td>
<td>25.795460</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>-5.100000</td>
<td>49.000000</td>
<td>-277.190000</td>
<td>0.000000</td>
<td>1.400000</td>
<td>-53.600000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>26.000000</td>
<td>99.000000</td>
<td>83.260000</td>
<td>0.700000</td>
<td>5.700000</td>
<td>6.400000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>39.600000</td>
<td>115.000000</td>
<td>122.940000</td>
<td>1.500000</td>
<td>7.900000</td>
<td>15.100344</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>54.200000</td>
<td>127.000000</td>
<td>293.310000</td>
<td>3.200000</td>
<td>11.500000</td>
<td>28.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>162.200000</td>
<td>206.000000</td>
<td>1219.800000</td>
<td>6.700000</td>
<td>28.600000</td>
<td>233.300000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-39" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>advanced_cols <span class="op">=</span> [</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'b_war'</span>, <span class="st">'b_onbase_plus_slugging_plus'</span>, <span class="st">'b_baseout_runs'</span>],</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'b_home_run_perc'</span>, <span class="st">'b_strikeout_perc'</span>, <span class="st">'b_cwpa_bat'</span>]</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> [</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">0</span>,<span class="dv">0</span>], [<span class="dv">0</span>,<span class="dv">1</span>], [<span class="dv">0</span>,<span class="dv">2</span>],</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>,<span class="dv">0</span>], [<span class="dv">1</span>,<span class="dv">1</span>], [<span class="dv">1</span>,<span class="dv">2</span>],</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>x_labels <span class="op">=</span> [</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'WAR'</span>, <span class="st">"OPS+"</span>, <span class="st">"RE24"</span>],</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Home Run %"</span>, <span class="st">"Strikeout %"</span>, <span class="st">"Championship WPA"</span>]</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">2</span>,<span class="dv">3</span>,figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">14</span>))</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Distributions of Advanved Offensive Stats"</span>, fontsize<span class="op">=</span><span class="dv">28</span>)</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> r <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>):</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> c <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>        sns.boxplot(batter_df.drop_duplicates(subset<span class="op">=</span><span class="st">'player_id'</span>)[advanced_cols[r][c]].values, ax<span class="op">=</span>ax[r,c])</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>        ax[r,c].set_title(<span class="ss">f'Boxplot of </span><span class="sc">{</span>x_labels[r][c]<span class="sc">}</span><span class="ss">'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>        ax[r,c].set_ylabel(<span class="ss">f'</span><span class="sc">{</span>x_labels[r][c]<span class="sc">}</span><span class="ss">'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-22-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-40" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>war <span class="op">=</span> batter_df.sort_values(by<span class="op">=</span><span class="st">'b_war'</span>, ascending<span class="op">=</span><span class="va">False</span>).iloc[<span class="dv">0</span>]</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The leader in career WAR is </span><span class="sc">{</span>war<span class="sc">.</span>loc[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss"> with </span><span class="sc">{</span>war<span class="sc">.</span>loc[<span class="st">'b_war'</span>]<span class="sc">}</span><span class="ss"> WAR."</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>ops <span class="op">=</span> batter_df.sort_values(by<span class="op">=</span><span class="st">'b_onbase_plus_slugging_plus'</span>, ascending<span class="op">=</span><span class="va">False</span>).iloc[<span class="dv">0</span>]</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The leader in career OPS+ is </span><span class="sc">{</span>ops<span class="sc">.</span>loc[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss"> with an </span><span class="sc">{</span>ops<span class="sc">.</span>loc[<span class="st">'b_onbase_plus_slugging_plus'</span>]<span class="sc">}</span><span class="ss"> OPS+."</span>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>wpa <span class="op">=</span> batter_df.sort_values(by<span class="op">=</span><span class="st">'b_cwpa_bat'</span>, ascending<span class="op">=</span><span class="va">False</span>).iloc[<span class="dv">0</span>]</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The leader in career Championship WPA is </span><span class="sc">{</span>wpa<span class="sc">.</span>loc[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss"> with a Championship WPA of </span><span class="sc">{</span>wpa<span class="sc">.</span>loc[<span class="st">'b_cwpa_bat'</span>]<span class="sc">}</span><span class="ss">."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The leader in career WAR is Babe Ruth with 162.2 WAR.
The leader in career OPS+ is Babe Ruth with an 206 OPS+.
The leader in career Championship WPA is Mickey Mantle with a Championship WPA of 233.3.</code></pre>
</div>
</div>
<p>Even though we took a quick pause to admire some of the leaders in our basic stats earlier, another much more serious pause is required here to fully understand/comprehend/appreciate one the points listed above. That is the fact that Micky Mantle has a career Championship WPA value of 233.3, or 2.33 Championships.</p>
<p>For those still unfamiliar with WPA and/or Championship WPA, the general calculations as follows:</p>
<ul>
<li>For any given state in a baseball game, (The inning, score, number of outs, number of men on base, etc), the expected win probability for a team can be calculated.</li>
<li>After any plate appearance, the game state changes, and therefore the expected win probability too, changes.</li>
<li>For an individual batter, the difference in his teamâ€™s win percentage before and after the plate appearance is the â€˜Win Probability Addedâ€™ (WPA) of the plate appearance.
<ul>
<li>This value can be positive OR negative, and is summative across plate appearances for the batter over his career.</li>
<li>The stat is utilized because it captures the difference in the same plate appearance outcomes (eg. single, double, HR) in different game situations. For example, a HR is more impactful when tied in the 9th inning than in the top of the 1st.</li>
</ul></li>
<li>The stat can be extrapolated to championship WPA (cWPA) which looks at the difference of winning the league championship before and after each plate appearance.</li>
<li>This means that with a cWPA value of 2.33, Micky Mantleâ€™s plate appearences <em>individually</em> accounted for &gt;2 league championships.</li>
<li>For context, this would be exivilant to hitting a walk off grandslam down 3, in game 7 of the league champiionship series not onceâ€¦ not twiceâ€¦ BUT NEARLY 3 TIMES!</li>
</ul>
<p>Baseball nerding aside, weâ€™ve now gained a much deeper understanding of the data collected, how their underlying distributions look, and are now ready to move forward into looking at how different variable interact with one another, particularly in their relationship to being elected on a given ballot.</p>
</section>
</section>
<section id="bivariate-analysis" class="level1">
<h1>Bivariate Analysis</h1>
<p>One of the critical factors in understanding what it takes to become sucessfully elected to the Hall of Fame us learning what correlates with a succesfull election. To do this, we create a new piece of data, which is a binary True/False of whether each player/year was succesfully elected.</p>
<div id="cell-43" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>is_elected <span class="op">=</span> batter_df.outcome <span class="op">==</span> <span class="st">'elected'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>With this information, we calculate the correlation of all our numeric data, to the is_elected data, showing which variables are most tied to it. We highlight the top 15 below.</p>
<div id="cell-45" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>numeric_data <span class="op">=</span> batter_df.select_dtypes(include<span class="op">=</span>np.number).drop(columns<span class="op">=</span><span class="st">'votes_pct'</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>top_corr_values <span class="op">=</span> <span class="bu">abs</span>(numeric_data.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.corr(is_elected))).sort_values(ascending<span class="op">=</span><span class="va">False</span>).iloc[:<span class="dv">15</span>].index</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>numeric_data.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.corr(is_elected))[<span class="bu">list</span>(top_corr_values)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/jaredzirkes/pyvenv/lib/python3.10/site-packages/numpy/lib/function_base.py:2897: RuntimeWarning: invalid value encountered in divide
  c /= stddev[:, None]
/Users/jaredzirkes/pyvenv/lib/python3.10/site-packages/numpy/lib/function_base.py:2898: RuntimeWarning: invalid value encountered in divide
  c /= stddev[None, :]</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="52">
<pre><code>ly_votes_pct                   0.343455
b_war                          0.336836
b_h                            0.247155
b_bb                           0.243037
b_pa                           0.239091
mvps                           0.226508
b_baseout_runs                 0.224341
all_stars                      0.224072
batting_titles                 0.220762
b_hr                           0.218491
b_onbase_plus_slugging_plus    0.182623
b_onbase_plus_slugging         0.173466
b_cwpa_bat                     0.168514
b_so                           0.163700
b_home_run_perc                0.129216
dtype: float64</code></pre>
</div>
</div>
<p>Not suprisingly, we see that stats like WAR, hits, and plate appearences are in the top few strongest correlated stats with a succesful election. Whatâ€™s great to see however, is the inclusion of last years voting percent as the single strongest correlation. This is especially true given the face that any player who was elected their first time on the ballot has just the average imputed.</p>
<p>While the year itself does not appear a strong correlator to outcome, we do also wonder if there are differences in the important stats throughout the eras. For example, do more modern players have a strong correlation for the advanced metrics that have become popular in recent years? To test this, we exclude the batters voted on before 1946, as we have systematically imputed some of their advanced metrics.</p>
<div id="cell-47" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>numeric_cols <span class="op">=</span> batter_df.select_dtypes(include<span class="op">=</span>np.number).drop(columns<span class="op">=</span><span class="st">'votes_pct'</span>).columns</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> np.errstate(invalid<span class="op">=</span><span class="st">'ignore'</span>, divide<span class="op">=</span><span class="st">'ignore'</span>): <span class="co"># Some Nan values with throw errors in the calculation, so we supress the warning</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    golden_numeric_stats <span class="op">=</span> golden_batters[numeric_cols][golden_batters.voting_year <span class="op">&gt;</span> <span class="dv">1946</span>]</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    expansion_numeric_stats <span class="op">=</span> expansion_batters[numeric_cols]</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    modern_numeric_stats <span class="op">=</span> modern_batters[numeric_cols]</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    golden_values <span class="op">=</span> <span class="bu">abs</span>(golden_numeric_stats.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.corr(is_elected))).sort_values(ascending<span class="op">=</span><span class="va">False</span>).index</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    expansion_values <span class="op">=</span> <span class="bu">abs</span>(expansion_numeric_stats.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.corr(is_elected))).sort_values(ascending<span class="op">=</span><span class="va">False</span>).index</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>    modern_values <span class="op">=</span> <span class="bu">abs</span>(modern_numeric_stats.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.corr(is_elected))).sort_values(ascending<span class="op">=</span><span class="va">False</span>).index</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    golden_top_corr <span class="op">=</span> golden_numeric_stats.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.corr(is_elected))[<span class="bu">list</span>(golden_values)]</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    expansion_top_corr <span class="op">=</span> expansion_numeric_stats.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.corr(is_elected))[<span class="bu">list</span>(expansion_values)]</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    modern_top_corr <span class="op">=</span> modern_numeric_stats.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.corr(is_elected))[<span class="bu">list</span>(modern_values)]</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>    corr_over_time <span class="op">=</span> pd.concat([golden_top_corr, expansion_top_corr, modern_top_corr], axis<span class="op">=</span><span class="dv">1</span>).sort_values(by<span class="op">=</span><span class="dv">2</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>    corr_over_time[<span class="st">'modern_vs_golden'</span>] <span class="op">=</span> corr_over_time[<span class="dv">2</span>] <span class="op">-</span> corr_over_time[<span class="dv">0</span>]</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>corr_over_time.sort_values(by<span class="op">=</span><span class="st">'modern_vs_golden'</span>, key<span class="op">=</span><span class="kw">lambda</span> x: x.<span class="bu">abs</span>(), ascending<span class="op">=</span><span class="va">False</span>).rename(columns<span class="op">=</span>{<span class="dv">0</span>:<span class="st">'Golden Era'</span>, <span class="dv">1</span>:<span class="st">'Expansion Era'</span>, <span class="dv">2</span>:<span class="st">'Modern Era'</span>})[:<span class="dv">15</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Golden Era</th>
<th data-quarto-table-cell-role="th">Expansion Era</th>
<th data-quarto-table-cell-role="th">Modern Era</th>
<th data-quarto-table-cell-role="th">modern_vs_golden</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">all_stars</td>
<td>0.140028</td>
<td>0.353182</td>
<td>0.347278</td>
<td>0.207251</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">b_war</td>
<td>0.201308</td>
<td>0.415799</td>
<td>0.371876</td>
<td>0.170569</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">b_h</td>
<td>0.136922</td>
<td>0.263467</td>
<td>0.297544</td>
<td>0.160622</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">b_pa</td>
<td>0.120326</td>
<td>0.290315</td>
<td>0.273114</td>
<td>0.152788</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">b_sb</td>
<td>-0.007428</td>
<td>0.133418</td>
<td>0.118030</td>
<td>0.125458</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ly_votes_pct</td>
<td>0.393950</td>
<td>0.169242</td>
<td>0.271136</td>
<td>-0.122813</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">b_home_run_perc</td>
<td>0.122508</td>
<td>0.185753</td>
<td>0.003475</td>
<td>-0.119033</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">b_strikeout_perc</td>
<td>0.007663</td>
<td>0.078378</td>
<td>-0.092373</td>
<td>-0.100036</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">mvps</td>
<td>0.210967</td>
<td>0.316709</td>
<td>0.110996</td>
<td>-0.099972</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">gold_gloves</td>
<td>-0.004902</td>
<td>0.167792</td>
<td>0.084601</td>
<td>0.089503</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">voting_year</td>
<td>-0.055510</td>
<td>0.012471</td>
<td>0.032902</td>
<td>0.088412</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">G_3b</td>
<td>-0.014429</td>
<td>0.010993</td>
<td>0.073817</td>
<td>0.088246</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">G_1b</td>
<td>0.040169</td>
<td>-0.006717</td>
<td>-0.039486</td>
<td>-0.079655</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">G_rf_app</td>
<td>0.010877</td>
<td>0.008763</td>
<td>-0.065831</td>
<td>-0.076707</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">b_bb</td>
<td>0.146704</td>
<td>0.342679</td>
<td>0.218379</td>
<td>0.071676</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Here we see some pretty suprising results. In the right hand column, which represents the total difference in the correlation between the modern era and the golden era, we do not see any of our advanced metrics present, other than OPS/OPS+ which actually has a negative value!</p>
<p>Beyond this, there is also a very large negative value for the prior years vote percentage. This is a bit confusing to explain, but may be in part due to the shrinking ballots explained earlier, and a stronger likelihood of being elected on the first ballot, which again has an imputed value.</p>
<p>We also observe that in the modern era, this is almost no correlation between MVP and a succesful election. This is likely due to the vast number of MVP awards won by players like Barry Bonds who are not in the Hall of Fame for scandal reasons.</p>
<p>In total, given the intresting nature of these results, there is not a major reason to suspect that in predicting ballot outcomes it is necessary to stratify features by time frame. While this may give a slight general increase in accuracy, there are no clearcut methods for doing so like adding in advanced stats for later years, other than arbitrarity filtering based on the above values, which may result in overfitting our model and decreasing accuracy on unseen future data.</p>
<p>As a final check, we go back to our top 15 variables most correlated with a succesful election, and build a heatmap outlining the matrix of correlations between each pair of variables. This will help us learn if our variables are strongly correlated with one another, which may lead to issues down the road during predicion model building.</p>
<div id="cell-51" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>most_correlated_df <span class="op">=</span> batter_df[top_corr_values].copy()</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>most_correlated_df <span class="op">=</span> most_correlated_df.rename(columns<span class="op">=</span>{</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ly_votes_pct'</span>:<span class="st">"Last Year %"</span>,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_war'</span>:<span class="st">'WAR'</span>,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_h'</span>:<span class="st">'Hits'</span>,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_pa'</span>:<span class="st">'Plate Appearances'</span>,</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_bb'</span>:<span class="st">'Walks'</span>,</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'batting_titles'</span>:<span class="st">'Batting Titles'</span>,</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'all_stars'</span>:<span class="st">'All Stars'</span>,</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_baseout_runs'</span>:<span class="st">'RE24'</span>,</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_hr'</span>:<span class="st">"Home Runs"</span>,</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'mvps'</span>:<span class="st">'MVPs'</span>,</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_onbase_plus_slugging_plus'</span>:<span class="st">'OPS+'</span>,</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_onbase_plus_slugging'</span>:<span class="st">'OPS'</span>,</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_cwpa_bat'</span>:<span class="st">"Championship WPA"</span>,</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_so'</span>:<span class="st">'Strikeouts'</span>,</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'b_batting_avg'</span>:<span class="st">'Batting AVG'</span></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-52" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>sns.heatmap(most_correlated_df.corr(), cmap<span class="op">=</span><span class="st">'rocket_r'</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Correlation Heat Map for Variables Correlated with Elections"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<pre><code>Text(0.5, 1.0, 'Correlation Heat Map for Variables Correlated with Elections')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-28-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>There is a fair amount of correlation between the variables, which makes sense given we chose a number of different stats that we expect to correlate with with â€˜greatâ€™ MLB players. Thus they all represent the same underlying strength as a baseball player. However, there are only two immediete pairs of variables that stand out as having problematic corrlations. In the darkest squares, we see the OPS and OPS+, as well as plate appearances and hits have nearly perfect (1) correlations. Because of these strong correlation, which effectivley duplicate the â€˜informationâ€™ in our data, we make two decisions:</p>
<ul>
<li>We drop OPS from the dataset, as OPS+ is nearly identical but with the added benefit of relative context to other players</li>
<li>We drop Plate Appearances from the dataset. We chose PA over Hits becuase PA is less correlated with the election outcome.</li>
</ul>
<div id="cell-54" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>batter_df <span class="op">=</span> pd.read_csv(<span class="st">'../../data/processed-data/final_batter_df.csv'</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>batter_df <span class="op">=</span> batter_df.drop(columns <span class="op">=</span> [<span class="st">'b_pa'</span>, <span class="st">'b_onbase_plus_slugging'</span>])</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>batter_df.to_csv(<span class="st">'../../data/processed-data/batter_df_for_prediction'</span>, index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Now that we have thoroughly explored our data we have a much better understand of how it works, and what may or may not be necessary as we move forward into the modeling stage. We know:</p>
<ul>
<li>Data for pitchers is systematically missing, and we will move forward with predicting batter elections</li>
<li>Position played has a direct impact on voting outcomes, and we should include it in our dataset</li>
<li>While the era of the election has an impact on the share of succesful elections, it does not on the actual number of elections, a result of shrinking ballot sizes rather than true impact of year.</li>
<li>Where the year does make some impact is when considering what variables correlate with succesfull elections. While some of the underlying variables impact may not make intuitive sense, we do see some changes in correlations over time.</li>
<li>There is a fair amount of correlations between our features, due to them all representing being good at baseball. Weâ€™ve removed some variables with problematically high correlation like OPS and Plate Appearances, but may need to consider dimensionality reduction in future steps.</li>
</ul>
<p>With all this new information in hand, we move forward onto our modeling phase, where we begin clustering our players to see if patterns emerge visually in Hall of Fame caliber careers.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-bbwa_bbwa_nodate" class="csl-entry" role="listitem">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">BBWA. <a href="https://baseballhall.org/hall-of-fame/voting-rules-history"><span>BBWA</span> <span>Voting</span> <span>Rules</span> <span>History</span></a>.</div>
</div>
<div id="ref-wikipedia_contributers_golden_2024" class="csl-entry" role="listitem">
<div class="csl-left-margin">2. </div><div class="csl-right-inline">Contributers, W. <a href="https://en.wikipedia.org/w/index.php?title=Golden_age_of_baseball&amp;oldid=1244320698">Golden <span>Age</span> of <span>Baseball</span></a>. (2024).</div>
</div>
<div id="ref-br_bullpen_expansion_nodate" class="csl-entry" role="listitem">
<div class="csl-left-margin">3. </div><div class="csl-right-inline">Bullpen, B. <a href="https://www.baseball-reference.com/bullpen/Expansion#:~:text=The%20%22expansion%20era%22%20refers%20to,significantly%20altered%20overall%20playing%20conditions.">Expansion</a>.</div>
</div>
<div id="ref-wikipedia_contributers_history_2024" class="csl-entry" role="listitem">
<div class="csl-left-margin">4. </div><div class="csl-right-inline">Contributers, W. <a href="https://en.wikipedia.org/w/index.php?title=History_of_baseball_in_the_United_States&amp;oldid=1262710027">History of <span>Baseball</span> in the <span>United</span> <span>States</span></a>. (2024).</div>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>